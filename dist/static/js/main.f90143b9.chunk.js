(this.webpackJsonpkumato=this.webpackJsonpkumato||[]).push([[0],{10:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return l}));var c=n(2),r=n(18),a=n.n(r),s=a()(e,"chrome.storage")?a()(e,"chrome"):{runtime:{lastError:null},storage:{sync:{get:function(e,t){t({blockableWebsites:[],breakCompleted:3,breakDuration:10,breakStarted:!1,cycleDuration:25,cycleRunning:!0,cycleStarted:!0,cyclesCompleted:10,defaultStorageDataFetched:!1})},set:function(){}}}},o=function(){return new Promise((function(e,t){s.storage.sync.get(null,(function(n){if(s.runtime.lastError)return t(s.runtime.lastError);e(n)}))}))},i=function(){return new Promise((function(e,t){s.storage.sync.set(c.v,(function(){e(c.v)}))}))},l=function(e){return new Promise((function(t,n){s.storage.sync.set(e,(function(){t(e)}))}))}}).call(this,n(11))},2:function(e,t,n){"use strict";n.d(t,"v",(function(){return b})),n.d(t,"o",(function(){return m})),n.d(t,"h",(function(){return x})),n.d(t,"n",(function(){return O})),n.d(t,"g",(function(){return h})),n.d(t,"r",(function(){return p})),n.d(t,"d",(function(){return y})),n.d(t,"c",(function(){return C})),n.d(t,"u",(function(){return k})),n.d(t,"m",(function(){return g})),n.d(t,"f",(function(){return v})),n.d(t,"l",(function(){return w})),n.d(t,"q",(function(){return N})),n.d(t,"s",(function(){return S})),n.d(t,"t",(function(){return D})),n.d(t,"e",(function(){return B})),n.d(t,"k",(function(){return W})),n.d(t,"a",(function(){return I})),n.d(t,"b",(function(){return M})),n.d(t,"w",(function(){return F})),n.d(t,"j",(function(){return R})),n.d(t,"p",(function(){return U}));var c=n(17),r=n.n(c),a=n(20),s=n(4),o=n(9),i=n(21),l=n.n(i),u=n(10),b={elapsedSeconds:0,cyclesCompleted:0,cycleDuration:45,cycleStarted:!1,cycleRunning:!1,breakCompleted:0,breakDuration:15,breakStarted:!1,blockableWebsites:[]},d=Object(s.a)(Object(s.a)({},b),{},{defaultStorageDataFetched:!1}),j=Object(o.b)({name:"dashboard",initialState:d,reducers:{incrementCompletedCycles:function(e){e.cyclesCompleted++},decrementCompletedCycles:function(e){e.cyclesCompleted>0&&e.cyclesCompleted--},incrementCompletedBreaks:function(e){e.breakCompleted++},decrementCompletedBreaks:function(e){e.breakCompleted>0&&e.breakCompleted--},resetStats:function(e){e.cyclesCompleted=0,e.breakCompleted=0},changeCycleDuration:function(e,t){e.cycleDuration=t.payload},changeBreakDuration:function(e,t){e.breakDuration=t.payload},elapseSecond:function(e){e.elapsedSeconds>0&&e.elapsedSeconds--},startCycle:function(e){e.cycleStarted=!0,e.cycleRunning=!0,e.elapsedSeconds=60*e.cycleDuration},completeCycle:function(e){e.cycleStarted=!1,e.cycleRunning=!1,e.cyclesCompleted++},discardCycle:function(e){e.cycleStarted=!1,e.cycleRunning=!1},pauseCycle:function(e){e.cycleRunning=!1},resumeCycle:function(e){e.cycleRunning=!0},startBreak:function(e){e.breakStarted=!0,e.elapsedSeconds=60*e.breakDuration},completeBreak:function(e){e.breakStarted=!1,e.breakCompleted++},discardBreak:function(e){e.breakStarted=!1},addWebsiteToBlock:function(e,t){e.blockableWebsites.push(t.payload)},blockWebsite:function(e,t){var n=e.blockableWebsites.findIndex((function(e){return e.url===t.payload}));e.blockableWebsites[n].isBlocked=!0},unblockWebsite:function(e,t){var n=e.blockableWebsites.findIndex((function(e){return e.url===t.payload}));e.blockableWebsites[n].isBlocked=!1},deleteWebsite:function(e,t){var n=e.blockableWebsites.findIndex((function(e){return e.url===t.payload}));e.blockableWebsites.splice(n,1)},updateDefaultStorageDataFetched:function(e,t){e.defaultStorageDataFetched=t.payload},provideDefaultStorageData:function(e,t){var n=t.payload;return Object(s.a)(Object(s.a)({},e),n)}}}),f=j.actions,m=f.incrementCompletedCycles,x=f.decrementCompletedCycles,O=f.incrementCompletedBreaks,h=f.decrementCompletedBreaks,p=f.resetStats,y=f.changeCycleDuration,C=f.changeBreakDuration,k=f.startCycle,g=f.elapseSecond,v=f.completeCycle,w=f.discardCycle,N=f.pauseCycle,S=f.resumeCycle,D=f.startBreak,B=f.completeBreak,W=f.discardBreak,I=f.addWebsiteToBlock,M=f.blockWebsite,F=f.unblockWebsite,R=f.deleteWebsite,H=f.updateDefaultStorageDataFetched,E=f.provideDefaultStorageData,U=function(){return function(){var e=Object(a.a)(r.a.mark((function e(t,n){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.a)();case 2:if(c=e.sent,console.log(c),!l()(c)){e.next=9;break}return e.next=7,Object(u.b)();case 7:e.next=10;break;case 9:t(E(c));case 10:t(H(!0));case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()};t.i=j.reducer},35:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(12),s=n.n(a),o=n(8),i=n(9),l=n(2),u=function(e){e.getState;return function(e){return function(t){var n=e(t);n.type,n.payload;return n}}},b=Object(i.a)({reducer:{dashboard:l.i},middleware:function(e){return e().concat(u)}}),d=(n(35),n(5)),j=n.n(d),f=n(3),m=n(1),x=function(e){var t=e.text,n=e.icon,c=e.className,r=void 0===c?"":c,a=e.onClick;return Object(m.jsxs)("button",{type:"button",className:j()("flex px-2 py-2 text-white rounded-sm transition-colors duration-300 items-center",r),onClick:a,children:[Object(m.jsx)(n,{className:"h-6 w-6 text-gray-200 items-center"}),Object(m.jsx)("span",{className:"ml-1 text-sm font-medium",children:t})]})},O=function(){return Object(o.b)()},h=o.c,p=n(13),y=function(e,t){return Math.round(100-e/(60*t)*100)||1},C=function(e){return e.dashboard},k=Object(p.a)(C,(function(e){var t=e.cycleStarted,n=e.cycleDuration,c=e.elapsedSeconds,r=e.breakStarted,a=e.breakDuration;return t?y(c,n):r?y(c,a):0})),g=function(){return Object(m.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(m.jsx)("path",{d:"M12.2172 3.85457C12.986 3.23352 13.1601 2.56961 13.1707 2.12199C13.1965 1.03304 12.3366 0.236165 12.2385 0.148939C11.9953 -0.0673118 11.6229 -0.0455149 11.4066 0.19765C11.1904 0.440814 11.2122 0.813198 11.4553 1.02949C11.4608 1.03441 12.0056 1.5441 11.9926 2.09406C11.9856 2.38707 11.8169 2.66308 11.4767 2.93789C10.7078 3.55895 10.5338 4.22285 10.5232 4.67047C10.4973 5.75942 11.3572 6.55629 11.4553 6.64356C11.5679 6.74364 11.7083 6.79294 11.8482 6.79294C12.0106 6.79294 12.1722 6.72653 12.2883 6.59586C12.5046 6.3527 12.484 5.98133 12.2408 5.76508C12.0862 5.62446 11.6878 5.15793 11.7014 4.69399C11.7099 4.40262 11.8786 4.12801 12.2172 3.85457Z",fill:"white"}),Object(m.jsx)("path",{d:"M8.47871 3.85457C9.24754 3.23352 9.4216 2.56961 9.43218 2.12199C9.45804 1.03304 8.59816 0.236165 8.5 0.148939C8.25691 -0.0673118 7.88445 -0.0455149 7.66816 0.19765C7.45191 0.440814 7.47371 0.813198 7.71687 1.02949C7.72238 1.03441 8.26714 1.5441 8.2541 2.09406C8.24714 2.38707 8.07839 2.66308 7.7382 2.93789C6.96937 3.55895 6.79531 4.22285 6.78472 4.67047C6.75886 5.75942 7.61875 6.55629 7.71687 6.64356C7.82941 6.74364 7.96988 6.79294 8.10976 6.79294C8.27211 6.79294 8.43371 6.72653 8.54988 6.59586C8.76613 6.3527 8.7455 5.98133 8.50234 5.76508C8.34769 5.62446 7.94933 5.15793 7.96289 4.69399C7.97144 4.40262 8.14015 4.12801 8.47871 3.85457Z",fill:"white"}),Object(m.jsx)("path",{d:"M16.9139 9.61517H16.2165V9.18306C16.2165 8.85767 15.9527 8.59384 15.6273 8.59384H0.58922C0.263829 8.59384 0 8.85763 0 9.18306V12.2928C0 15.0405 1.5209 17.4567 3.80427 18.8216H0.589571C0.26418 18.8216 0.000351566 19.0854 0.000351566 19.4108C0.000351566 19.7363 0.264102 20 0.589571 20H15.6273C15.9527 20 16.2166 19.7363 16.2166 19.4108C16.2166 19.0854 15.9528 18.8216 15.6273 18.8216H12.4123C13.7107 18.0454 14.7626 16.9294 15.4283 15.6056H16.9139C18.5655 15.6056 19.9091 14.2619 19.9091 12.6104C19.9091 10.9588 18.5654 9.61517 16.9139 9.61517ZM15.0381 12.2928C15.0381 15.8928 11.9294 18.8216 8.10826 18.8216C4.28716 18.8216 1.17844 15.8928 1.17844 12.2928V9.77228H15.0381L15.0381 12.2928ZM16.9139 14.4272H15.9C16.1059 13.7491 16.2165 13.033 16.2165 12.2928V10.7935H16.9139C17.9157 10.7935 18.7307 11.6086 18.7307 12.6104C18.7307 13.6122 17.9157 14.4272 16.9139 14.4272Z",fill:"white"}),Object(m.jsx)("path",{d:"M4.74021 3.8546C5.50904 3.23355 5.6831 2.56964 5.69369 2.12202C5.71955 1.03307 4.85967 0.236196 4.7615 0.148969C4.51838 -0.0672813 4.14595 -0.0454844 3.92966 0.19768C3.71341 0.440806 3.73521 0.813228 3.97837 1.02952C3.98388 1.03444 4.52865 1.54413 4.5156 2.09409C4.50865 2.3871 4.3399 2.66311 3.9997 2.93792C3.23087 3.55898 3.05681 4.22288 3.04622 4.6705C3.0204 5.75941 3.88029 6.55629 3.97841 6.64355C4.09068 6.7434 4.23048 6.7925 4.36978 6.7925C4.53216 6.7925 4.69384 6.72574 4.81029 6.59484C5.02654 6.35168 5.00474 5.97929 4.76158 5.763C4.75607 5.75808 4.2113 5.24839 4.22435 4.69843C4.23123 4.40542 4.39998 4.12937 4.74021 3.8546Z",fill:"white"})]})},v=function(){var e=O(),t=h(C),n=t.cycleStarted,c=t.cycleRunning,r=t.cyclesCompleted,a=t.breakStarted;return Object(m.jsx)("div",{children:Object(m.jsx)("div",{className:j()("flex",{"justify-between":n||r},{"justify-evenly":a},{"justify-center":!n&&!r&&!a},{"mt-6":!n}),children:n||a?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(x,{icon:f.a,text:"Complete",className:"bg-green-500 hover:bg-green-600",onClick:function(){n&&e(Object(l.f)()),a&&e(Object(l.e)())}}),!a&&(c?Object(m.jsx)(x,{icon:f.f,text:"Pause",className:"bg-yellow-500 hover:bg-yellow-600",onClick:function(){return e(Object(l.q)())}}):Object(m.jsx)(x,{icon:f.g,text:"Resume",className:"bg-yellow-500 hover:bg-yellow-600",onClick:function(){return e(Object(l.s)())}})),Object(m.jsx)(x,{icon:f.l,text:"Discard",className:"bg-red-500 hover:bg-red-600",onClick:function(){n&&e(Object(l.l)()),a&&e(Object(l.k)())}})]}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(x,{icon:f.g,text:"Start",className:"bg-teal-500 hover:bg-teal-600 px-12",onClick:function(){return e(Object(l.u)())}}),Boolean(r)&&Object(m.jsx)(x,{icon:g,text:"Start Break",className:"bg-fuchsia-500 hover:bg-fuchsia-600 px-7",onClick:function(){return e(Object(l.t)())}})]})})})},w=n(4),N=n(14),S=n(7),D=["className"],B=function(e){var t=e.className,n=void 0===t?"":t,c=Object(S.a)(e,D);return Object(m.jsx)("input",Object(w.a)({type:"text",className:j()("h-7 bg-gray-100 focus:bg-white text-gray-600 focus:text-gray-700 appearance-none rounded-sm py-1 px-2 focus:outline-none shadow",n)},c))},W=["value","onUpdate"],I=function(e){var t=e.value,n=e.onUpdate,r=Object(S.a)(e,W),a=Object(c.useState)(t||""),s=Object(N.a)(a,2),o=s[0],i=s[1];return Object(m.jsx)(B,Object(w.a)({value:o,onChange:function(e){var t=e.target.value;(""===t||/^[0-9\b]+$/.test(t))&&(i(t),n&&n(t))}},r))},M=["children","className"],F=function(e){var t=e.children,n=e.className,c=void 0===n?"":n,r=Object(S.a)(e,M);return Object(m.jsx)("label",Object(w.a)(Object(w.a)({className:j()("block text-sm font-medium text-gray-200",c)},r),{},{children:t}))},R=function(){var e=O(),t=h(C),n=t.cycleDuration,c=t.breakDuration;return Object(m.jsxs)("div",{children:[Object(m.jsxs)("h2",{className:"flex text-gray-50 items-center mb-3",children:[Object(m.jsx)(f.b,{className:"h-6 w-6 text-gray-50"}),Object(m.jsx)("span",{className:"ml-0.5 text-gray-200 text-sm font-medium",children:"Settings"})]}),Object(m.jsxs)(F,{className:"mb-3",children:[Object(m.jsx)("span",{className:"block mb-1",children:"Kumato duration:"}),Object(m.jsx)(I,{type:"text",className:"w-20",value:n,placeholder:"Minutes",onUpdate:function(t){return e(Object(l.d)(t))}})]}),Object(m.jsxs)(F,{children:[Object(m.jsx)("span",{className:"block mb-1",children:"Break duration:"}),Object(m.jsx)(I,{type:"text",className:"w-20",placeholder:"Minutes",value:c,onUpdate:function(t){return e(Object(l.c)(t))}})]})]})},H=function(e){var t=e.className,n=void 0===t?"":t,c=e.title,r=e.onIncrement,a=e.onDecrement;return Object(m.jsxs)("div",{className:j()("flex","items-center",n),children:[Object(m.jsx)("button",{type:"button",onClick:r,children:Object(m.jsx)(f.h,{className:"h-6 w-6 text-green-700 justify-center"})}),Object(m.jsx)("span",{className:"text-gray-200 ml-1.5 text-sm",children:c}),Object(m.jsx)("button",{type:"button",onClick:a,children:Object(m.jsx)(f.e,{className:"h-6 w-6 text-red-800 ml-1.5"})})]})},E=function(){var e=O(),t=h(C),n=t.cyclesCompleted,c=t.breakCompleted;return Object(m.jsxs)("div",{children:[Object(m.jsxs)("h2",{className:"flex items-center mb-3",children:[Object(m.jsx)(f.j,{className:"h-6 w-6 text-gray-200"}),Object(m.jsx)("span",{className:"ml-0.5 text-gray-200 text-sm font-medium",children:"Stats"})]}),Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)(H,{title:"Kumatos: ".concat(n),className:"mb-1",onIncrement:function(){return e(Object(l.o)())},onDecrement:function(){return e(Object(l.h)())}}),Object(m.jsx)(H,{title:"Breaks: ".concat(c),onIncrement:function(){return e(Object(l.n)())},onDecrement:function(){return e(Object(l.g)())}})]}),Object(m.jsx)("button",{type:"button",className:"bg-yellow-600 px-2 py-1 text-white rounded-sm text-sm",onClick:function(){return e(Object(l.r)())},children:"Reset Stats"})]})},U=function(e){var t=e.colour,n=e.pct,c=void 0===n?100:n,r=2*Math.PI*70,a=(100-c)*r/100;return Object(m.jsx)("circle",{className:"transition-all",r:70,cx:100,cy:100,fill:"transparent",stroke:a!==r?t:"",strokeWidth:"1rem",strokeDasharray:r,strokeDashoffset:c?a:0,strokeLinecap:"round"})},Z=function(e){var t=e.title;return Object(m.jsx)("text",{x:"50%",y:"50%",dominantBaseline:"central",textAnchor:"middle",fontSize:"2rem",fill:"#fff",children:t})},P=function(e){var t=e.title,n=e.percentage,c=e.className,r=void 0===c?"":c,a=function(e){return!Number.isFinite(+e)||e<0?0:e>100?100:+e}(n);return Object(m.jsxs)("svg",{width:200,height:200,className:r,children:[Object(m.jsx)("defs",{children:Object(m.jsxs)("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[Object(m.jsx)("stop",{offset:"0%","stop-color":"#2dd4bf"}),Object(m.jsx)("stop",{offset:"100%","stop-color":"#3b82f6"})]})}),Object(m.jsxs)("g",{transform:"rotate(-90 ".concat("100 100",")"),children:[Object(m.jsx)(U,{colour:"rgb(229, 231, 235)"}),Object(m.jsx)(U,{colour:"url(#gradient)",pct:a})]}),Object(m.jsx)(Z,{title:t})]})},V=function(){var e=h(C),t=e.cycleRunning,n=e.breakStarted,r=e.elapsedSeconds,a=O();Object(c.useEffect)((function(){var e=setInterval((function(){t&&(0===r&&(clearInterval(e),a(Object(l.f)())),a(Object(l.m)())),n&&(0===r&&(clearInterval(e),a(Object(l.e)())),a(Object(l.m)()))}),1e3);return function(){clearInterval(e)}}),[a,t,n,r]);var s=Math.floor(r/60),o=r-60*s;return Object(m.jsx)(m.Fragment,{children:"".concat(s,":").concat(o<10?"0".concat(o):o)})},q=function(){var e=h(k);return Object(m.jsx)("div",{className:"flex justify-center",children:Object(m.jsx)(P,{title:Object(m.jsx)(V,{}),percentage:e})})},J=function(){var e=Object(c.useState)(""),t=Object(N.a)(e,2),n=t[0],r=t[1],a=O();return Object(m.jsxs)("div",{className:"flex",children:[Object(m.jsx)(B,{type:"text",className:"flex-grow min-w-0 rounded-r-none text-sm",placeholder:"Enter website url to block",onChange:function(e){var t=e.target.value;r(t)},value:n}),Object(m.jsx)("button",{type:"button",className:"bg-orange-500 px-2 py-1 text-white rounded-sm text-sm rounded-l-none",onClick:function(){r(""),a(Object(l.a)({url:n,isBlocked:!0}))},children:Object(m.jsx)(f.i,{className:"h-4 w-4"})})]})},K=function(e){var t=e.isBlocked,n=e.websiteUrl,c=O();return Object(m.jsxs)("li",{className:"flex items-center mb-1.5",children:[t?Object(m.jsxs)("button",{type:"button",className:"flex bg-red-600 px-2 py-1 text-white rounded-sm text-sm items-center",onClick:function(){return c(Object(l.w)(n))},children:[Object(m.jsx)(f.d,{className:"h-4 w-4 text-white"}),Object(m.jsx)("span",{className:"ml-1",children:"Unblock"})]}):Object(m.jsxs)("button",{type:"button",className:"flex bg-green-600 px-2 py-1 text-white rounded-sm text-sm items-center",onClick:function(){return c(Object(l.b)(n))},children:[Object(m.jsx)(f.c,{className:"h-4 w-4 text-white"}),Object(m.jsx)("span",{className:"ml-1",children:"Block"})]}),Object(m.jsx)("span",{className:"text-gray-200 ml-1.5 text-sm truncate",children:n}),Object(m.jsx)("button",{type:"button",onClick:function(){return c(Object(l.j)(n))},children:Object(m.jsx)(f.k,{className:"h-5 w-5 text-red-800 ml-1.5"})})]})},L=function(){var e=h(C).blockableWebsites;return Object(m.jsx)("ul",{children:e.map((function(e){var t=e.url,n=e.isBlocked;return Object(m.jsx)(K,{isBlocked:n,websiteUrl:t})}))})},T=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"mb-3",children:Object(m.jsx)(J,{})}),Object(m.jsx)(L,{})]})},$=n(22),z=n.n($),A=n(10),G=function(){var e=h(C);Object(c.useEffect)((function(){Object(A.c)(z()(e,Object.keys(l.v)))}),[e])},Q=function(){var e=h(C),t=e.cycleStarted,n=e.breakStarted;return G(),Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"flex justify-between",children:[Object(m.jsx)(E,{}),Object(m.jsx)(R,{})]}),(t||n)&&Object(m.jsx)(q,{}),Object(m.jsx)("div",{className:"mb-6",children:Object(m.jsx)(v,{})}),Object(m.jsx)(T,{})]})};n(37);var X=function(){var e=Object(o.b)(),t=h(C).defaultStorageDataFetched;return Object(c.useEffect)((function(){e(Object(l.p)())}),[e]),Object(m.jsx)("div",{className:"p-6 w-96 mx-auto bg-gray-800",children:t&&Object(m.jsx)(Q,{})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(o.a,{store:b,children:Object(m.jsx)(X,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[38,1,2]]]);