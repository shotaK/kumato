(this.webpackJsonpkumato=this.webpackJsonpkumato||[]).push([[0],{2:function(e,t,n){"use strict";n.d(t,"v",(function(){return d})),n.d(t,"o",(function(){return f})),n.d(t,"i",(function(){return x})),n.d(t,"n",(function(){return O})),n.d(t,"h",(function(){return h})),n.d(t,"r",(function(){return p})),n.d(t,"d",(function(){return g})),n.d(t,"c",(function(){return y})),n.d(t,"u",(function(){return k})),n.d(t,"g",(function(){return v})),n.d(t,"m",(function(){return C})),n.d(t,"q",(function(){return N})),n.d(t,"s",(function(){return S})),n.d(t,"t",(function(){return w})),n.d(t,"f",(function(){return D})),n.d(t,"l",(function(){return B})),n.d(t,"a",(function(){return W})),n.d(t,"b",(function(){return R})),n.d(t,"w",(function(){return F})),n.d(t,"k",(function(){return E})),n.d(t,"e",(function(){return M})),n.d(t,"p",(function(){return P}));var c=n(17),r=n.n(c),a=n(20),o=n(4),s=n(10),i=n(21),l=n.n(i),u=n(7),d={remainingSeconds:0,currentRunDuration:0,cyclesCompleted:0,cycleDuration:45,cycleStarted:!1,cycleRunning:!1,breakCompleted:0,breakDuration:15,breakStarted:!1,blockableWebsites:[]},b=Object(o.a)(Object(o.a)({},d),{},{defaultStorageDataFetched:!1}),j=Object(s.b)({name:"dashboard",initialState:b,reducers:{incrementCompletedCycles:function(e){e.cyclesCompleted++},decrementCompletedCycles:function(e){e.cyclesCompleted>0&&e.cyclesCompleted--},incrementCompletedBreaks:function(e){e.breakCompleted++},decrementCompletedBreaks:function(e){e.breakCompleted>0&&e.breakCompleted--},resetStats:function(e){e.cyclesCompleted=0,e.breakCompleted=0},changeCycleDuration:function(e,t){e.cycleDuration=t.payload},changeBreakDuration:function(e,t){e.breakDuration=t.payload},elapseSecond:function(e){e.remainingSeconds>0&&e.remainingSeconds--},startCycle:function(e){e.cycleStarted=!0,e.cycleRunning=!0,e.remainingSeconds=60*e.cycleDuration,e.currentRunDuration=e.cycleDuration},changeRemainingSeconds:function(e,t){e.remainingSeconds=t.payload,0===e.remainingSeconds&&(e.cycleStarted&&(e.cycleStarted=!1,e.cycleRunning=!1,e.cyclesCompleted++),e.breakStarted&&(e.breakStarted=!1,e.breakCompleted++))},completeCycle:function(e){e.cycleStarted=!1,e.cycleRunning=!1,e.cyclesCompleted++},discardCycle:function(e){e.cycleStarted=!1,e.cycleRunning=!1},pauseCycle:function(e){e.cycleRunning=!1},resumeCycle:function(e){e.cycleRunning=!0},startBreak:function(e){e.breakStarted=!0,e.remainingSeconds=60*e.breakDuration,e.currentRunDuration=e.breakDuration},completeBreak:function(e){e.breakStarted=!1,e.breakCompleted++},discardBreak:function(e){e.breakStarted=!1},addWebsiteToBlock:function(e,t){e.blockableWebsites.push(t.payload)},blockWebsite:function(e,t){var n=e.blockableWebsites.findIndex((function(e){return e.url===t.payload}));e.blockableWebsites[n].isBlocked=!0},unblockWebsite:function(e,t){var n=e.blockableWebsites.findIndex((function(e){return e.url===t.payload}));e.blockableWebsites[n].isBlocked=!1},deleteWebsite:function(e,t){var n=e.blockableWebsites.findIndex((function(e){return e.url===t.payload}));e.blockableWebsites.splice(n,1)},updateDefaultStorageDataFetched:function(e,t){e.defaultStorageDataFetched=t.payload},provideDefaultStorageData:function(e,t){var n=t.payload;return Object(o.a)(Object(o.a)({},e),n)}}}),m=j.actions,f=m.incrementCompletedCycles,x=m.decrementCompletedCycles,O=m.incrementCompletedBreaks,h=m.decrementCompletedBreaks,p=m.resetStats,g=m.changeCycleDuration,y=m.changeBreakDuration,k=m.startCycle,v=(m.elapseSecond,m.completeCycle),C=m.discardCycle,N=m.pauseCycle,S=m.resumeCycle,w=m.startBreak,D=m.completeBreak,B=m.discardBreak,W=m.addWebsiteToBlock,R=m.blockWebsite,F=m.unblockWebsite,E=m.deleteWebsite,I=m.updateDefaultStorageDataFetched,U=m.provideDefaultStorageData,M=m.changeRemainingSeconds,P=function(){return function(){var e=Object(a.a)(r.a.mark((function e(t,n){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.b)();case 2:if(c=e.sent,!l()(c)){e.next=8;break}return e.next=6,Object(u.c)();case 6:e.next=9;break;case 8:t(U(c));case 9:t(I(!0));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()};t.j=j.reducer},35:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(12),o=n.n(a),s=n(9),i=n(10),l=n(2),u=function(e){e.getState;return function(e){return function(t){var n=e(t);n.type,n.payload;return n}}},d=Object(i.a)({reducer:{dashboard:l.j},middleware:function(e){return e().concat(u)}}),b=(n(35),n(5)),j=n.n(b),m=n(3),f=n(1),x=function(e){var t=e.text,n=e.icon,c=e.className,r=void 0===c?"":c,a=e.onClick;return Object(f.jsxs)("button",{type:"button",className:j()("flex px-2 py-2 text-white rounded-sm transition-colors duration-300 items-center",r),onClick:a,children:[Object(f.jsx)(n,{className:"h-6 w-6 text-gray-200 items-center"}),Object(f.jsx)("span",{className:"ml-1 text-sm font-medium",children:t})]})},O=function(){return Object(s.b)()},h=s.c,p=n(13),g=function(e,t){return Math.round(100-e/(60*t)*100)||1},y=function(e){return e.dashboard},k=Object(p.a)(y,(function(e){var t=e.cycleStarted,n=e.remainingSeconds,c=e.currentRunDuration,r=e.breakStarted;return t||r?g(n,c):0})),v=function(){var e=O(),t=h(y),n=t.cycleStarted,c=t.cycleRunning,r=t.cyclesCompleted,a=t.breakStarted;return Object(f.jsx)("div",{children:Object(f.jsx)("div",{className:j()("flex",{"justify-between":n||r},{"justify-evenly":a},{"justify-center":!n&&!r&&!a},{"mt-6":!n}),children:n||a?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(x,{icon:m.a,text:"Complete",className:"bg-green-500 hover:bg-green-600",onClick:function(){n&&e(Object(l.g)()),a&&e(Object(l.f)())}}),!a&&(c?Object(f.jsx)(x,{icon:m.f,text:"Pause",className:"bg-yellow-500 hover:bg-yellow-600",onClick:function(){return e(Object(l.q)())}}):Object(f.jsx)(x,{icon:m.g,text:"Resume",className:"bg-yellow-500 hover:bg-yellow-600",onClick:function(){return e(Object(l.s)())}})),Object(f.jsx)(x,{icon:m.m,text:"Discard",className:"bg-red-500 hover:bg-red-600",onClick:function(){n&&e(Object(l.m)()),a&&e(Object(l.l)())}})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(x,{icon:m.g,text:"Start",className:"bg-teal-500 hover:bg-teal-600 px-12",onClick:function(){return e(Object(l.u)())}}),Boolean(r)&&Object(f.jsx)(x,{icon:m.k,text:"Start Break",className:"bg-fuchsia-500 hover:bg-fuchsia-600 px-7",onClick:function(){return e(Object(l.t)())}})]})})})},C=n(4),N=n(14),S=n(8),w=["className"],D=function(e){var t=e.className,n=void 0===t?"":t,c=Object(S.a)(e,w);return Object(f.jsx)("input",Object(C.a)({type:"text",className:j()("h-7 bg-gray-100 focus:bg-white text-gray-600 focus:text-gray-700 appearance-none rounded-sm py-1 px-2 focus:outline-none shadow",n)},c))},B=["value","onUpdate"],W=function(e){var t=e.value,n=e.onUpdate,r=Object(S.a)(e,B),a=Object(c.useState)(t||""),o=Object(N.a)(a,2),s=o[0],i=o[1];return Object(f.jsx)(D,Object(C.a)({value:s,onChange:function(e){var t=e.target.value;i(t),n&&n(t)}},r))},R=["children","className"],F=function(e){var t=e.children,n=e.className,c=void 0===n?"":n,r=Object(S.a)(e,R);return Object(f.jsx)("label",Object(C.a)(Object(C.a)({className:j()("block text-sm font-medium text-gray-200",c)},r),{},{children:t}))},E=function(){var e=O(),t=h(y),n=t.cycleDuration,c=t.breakDuration;return Object(f.jsxs)("div",{children:[Object(f.jsxs)("h2",{className:"flex text-gray-50 items-center mb-3",children:[Object(f.jsx)(m.b,{className:"h-6 w-6 text-gray-50"}),Object(f.jsx)("span",{className:"ml-0.5 text-gray-200 text-sm font-medium",children:"Settings"})]}),Object(f.jsxs)(F,{className:"mb-3",children:[Object(f.jsx)("span",{className:"block mb-1",children:"Kumato duration:"}),Object(f.jsx)(W,{type:"text",className:"w-20",value:n,placeholder:"Minutes",onUpdate:function(t){return e(Object(l.d)(t))}})]}),Object(f.jsxs)(F,{children:[Object(f.jsx)("span",{className:"block mb-1",children:"Break duration:"}),Object(f.jsx)(W,{type:"text",className:"w-20",placeholder:"Minutes",value:c,onUpdate:function(t){return e(Object(l.c)(t))}})]})]})},I=function(e){var t=e.className,n=void 0===t?"":t,c=e.title,r=e.onIncrement,a=e.onDecrement;return Object(f.jsxs)("div",{className:j()("flex","items-center",n),children:[Object(f.jsx)("button",{type:"button",onClick:r,children:Object(f.jsx)(m.h,{className:"h-6 w-6 text-green-700 justify-center"})}),Object(f.jsx)("span",{className:"text-gray-200 ml-1.5 text-sm",children:c}),Object(f.jsx)("button",{type:"button",onClick:a,children:Object(f.jsx)(m.e,{className:"h-6 w-6 text-red-800 ml-1.5"})})]})},U=function(){var e=O(),t=h(y),n=t.cyclesCompleted,c=t.breakCompleted;return Object(f.jsxs)("div",{children:[Object(f.jsxs)("h2",{className:"flex items-center mb-3",children:[Object(f.jsx)(m.j,{className:"h-6 w-6 text-gray-200"}),Object(f.jsx)("span",{className:"ml-0.5 text-gray-200 text-sm font-medium",children:"Stats"})]}),Object(f.jsxs)("div",{className:"mb-3",children:[Object(f.jsx)(I,{title:"Kumatos: ".concat(n),className:"mb-1",onIncrement:function(){return e(Object(l.o)())},onDecrement:function(){return e(Object(l.i)())}}),Object(f.jsx)(I,{title:"Breaks: ".concat(c),onIncrement:function(){return e(Object(l.n)())},onDecrement:function(){return e(Object(l.h)())}})]}),Object(f.jsx)("button",{type:"button",className:"bg-yellow-600 px-2 py-1 text-white rounded-sm text-sm",onClick:function(){return e(Object(l.r)())},children:"Reset Stats"})]})},M=function(e){var t=e.colour,n=e.pct,c=void 0===n?100:n,r=2*Math.PI*70,a=(100-c)*r/100;return Object(f.jsx)("circle",{className:"transition-all",r:70,cx:100,cy:100,fill:"transparent",stroke:a!==r?t:"",strokeWidth:"1rem",strokeDasharray:r,strokeDashoffset:c?a:0,strokeLinecap:"round"})},P=function(e){var t=e.title;return Object(f.jsx)("text",{x:"50%",y:"50%",dominantBaseline:"central",textAnchor:"middle",fontSize:"2rem",fill:"#fff",children:t})},L=function(e){var t=e.title,n=e.percentage,c=e.className,r=void 0===c?"":c,a=function(e){return!Number.isFinite(+e)||e<0?0:e>100?100:+e}(n);return Object(f.jsxs)("svg",{width:200,height:200,className:r,children:[Object(f.jsx)("defs",{children:Object(f.jsxs)("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[Object(f.jsx)("stop",{offset:"0%","stop-color":"#2dd4bf"}),Object(f.jsx)("stop",{offset:"100%","stop-color":"#3b82f6"})]})}),Object(f.jsxs)("g",{transform:"rotate(-90 ".concat("100 100",")"),children:[Object(f.jsx)(M,{colour:"rgb(229, 231, 235)"}),Object(f.jsx)(M,{colour:"url(#gradient)",pct:a})]}),Object(f.jsx)(P,{title:t})]})},V=function(){var e=h(y).remainingSeconds,t=Math.floor(e/60),n=e-60*t;return Object(f.jsx)(f.Fragment,{children:"".concat(t,":").concat(n<10?"0".concat(n):n)})},q=function(){var e=h(k);return Object(f.jsx)("div",{className:"flex justify-center items-center relative",children:Object(f.jsx)(L,{title:Object(f.jsx)(V,{}),percentage:e})})},J=function(){var e=Object(c.useState)(""),t=Object(N.a)(e,2),n=t[0],r=t[1],a=O();return Object(f.jsxs)("div",{className:"flex",children:[Object(f.jsx)(D,{type:"text",className:"flex-grow min-w-0 rounded-r-none text-sm",placeholder:"Enter website url to block",onChange:function(e){var t=e.target.value;r(t)},value:n}),Object(f.jsx)("button",{type:"button",className:"bg-orange-500 px-2 py-1 text-white rounded-sm text-sm rounded-l-none",onClick:function(){r(""),a(Object(l.a)({url:n,isBlocked:!0}))},children:Object(f.jsx)(m.i,{className:"h-4 w-4"})})]})},K=function(e){var t=e.isBlocked,n=e.websiteUrl,c=O();return Object(f.jsxs)("li",{className:"flex items-center mb-1.5",children:[t?Object(f.jsxs)("button",{type:"button",className:"flex bg-red-600 px-2 py-1 text-white rounded-sm text-sm items-center",onClick:function(){return c(Object(l.w)(n))},children:[Object(f.jsx)(m.d,{className:"h-4 w-4 text-white"}),Object(f.jsx)("span",{className:"ml-1",children:"Unblock"})]}):Object(f.jsxs)("button",{type:"button",className:"flex bg-green-600 px-2 py-1 text-white rounded-sm text-sm items-center",onClick:function(){return c(Object(l.b)(n))},children:[Object(f.jsx)(m.c,{className:"h-4 w-4 text-white"}),Object(f.jsx)("span",{className:"ml-1",children:"Block"})]}),Object(f.jsx)("span",{className:"text-gray-200 ml-1.5 text-sm truncate",children:n}),Object(f.jsx)("button",{type:"button",onClick:function(){return c(Object(l.k)(n))},children:Object(f.jsx)(m.l,{className:"h-5 w-5 text-red-800 ml-1.5"})})]})},T=function(){var e=h(y).blockableWebsites;return Object(f.jsx)("ul",{children:e.map((function(e){var t=e.url,n=e.isBlocked;return Object(f.jsx)(K,{isBlocked:n,websiteUrl:t})}))})},z=function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"mb-3",children:Object(f.jsx)(J,{})}),Object(f.jsx)(T,{})]})},A=n(22),G=n.n(A),$=n(7),H=function(){var e=h(y);Object(c.useEffect)((function(){Object($.d)(G()(e,Object.keys(l.v)))}),[e])},Q=function(){var e=h(y),t=e.cycleStarted,n=e.breakStarted;return H(),Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"flex justify-between",children:[Object(f.jsx)(U,{}),Object(f.jsx)(E,{})]}),(t||n)&&Object(f.jsx)(q,{}),Object(f.jsx)("div",{className:"mb-6",children:Object(f.jsx)(v,{})}),Object(f.jsx)(z,{})]})},X=function(){var e=O();Object(c.useEffect)((function(){$.a.storage.onChanged.addListener((function(t){if(null===t||void 0===t?void 0:t.remainingSeconds){var n=t.remainingSeconds.newValue;e(Object(l.e)(n))}}))}),[e])};n(37);var Y=function(){var e=Object(s.b)(),t=h(y).defaultStorageDataFetched;return X(),Object(c.useEffect)((function(){e(Object(l.p)())}),[e]),Object(f.jsx)("div",{className:"p-6 w-96 mx-auto bg-gray-800",children:t&&Object(f.jsx)(Q,{})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(s.a,{store:d,children:Object(f.jsx)(Y,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},7:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return l}));var c=n(18),r=n.n(c),a=n(2),o=r()(e,"chrome.storage")?r()(e,"chrome"):{runtime:{lastError:null},storage:{local:{get:function(e,t){t({blockableWebsites:[],breakCompleted:3,breakDuration:10,breakStarted:!1,cycleDuration:25,cycleRunning:!0,cycleStarted:!0,cyclesCompleted:10,defaultStorageDataFetched:!1,remainingSeconds:150})},set:function(){}},onChanged:{addListener:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){};e({remainingSeconds:{newValue:2699,oldValue:2700}})}}}},s=function(){return new Promise((function(e,t){o.storage.local.get(null,(function(n){if(o.runtime.lastError)return t(o.runtime.lastError);e(n)}))}))},i=function(){return new Promise((function(e,t){o.storage.local.set(a.v,(function(){e(a.v)}))}))},l=function(e){return new Promise((function(t,n){o.storage.local.set(e,(function(){t(e)}))}))}}).call(this,n(11))}},[[38,1,2]]]);