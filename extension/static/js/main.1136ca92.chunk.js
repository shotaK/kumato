(this.webpackJsonpkumato=this.webpackJsonpkumato||[]).push([[0],{2:function(e,t,n){"use strict";n.d(t,"v",(function(){return d})),n.d(t,"q",(function(){return f})),n.d(t,"k",(function(){return x})),n.d(t,"p",(function(){return O})),n.d(t,"j",(function(){return h})),n.d(t,"t",(function(){return p})),n.d(t,"e",(function(){return g})),n.d(t,"d",(function(){return y})),n.d(t,"h",(function(){return v})),n.d(t,"o",(function(){return C})),n.d(t,"s",(function(){return S})),n.d(t,"u",(function(){return N})),n.d(t,"g",(function(){return D})),n.d(t,"n",(function(){return B})),n.d(t,"a",(function(){return W})),n.d(t,"b",(function(){return R})),n.d(t,"w",(function(){return F})),n.d(t,"m",(function(){return E})),n.d(t,"f",(function(){return M})),n.d(t,"r",(function(){return P})),n.d(t,"i",(function(){return L})),n.d(t,"c",(function(){return V}));var c=n(8),r=n.n(c),a=n(16),s=n(4),o=n(11),i=n(21),l=n.n(i),u=n(7),d={remainingSeconds:0,currentRunDuration:0,cyclesCompleted:0,cycleDuration:45,cycleStarted:!1,cycleRunning:!1,breakCompleted:0,breakDuration:15,breakStarted:!1,blockableWebsites:[]},b=Object(s.a)(Object(s.a)({},d),{},{defaultStorageDataFetched:!1}),j=Object(o.b)({name:"dashboard",initialState:b,reducers:{incrementCompletedCycles:function(e){e.cyclesCompleted++},decrementCompletedCycles:function(e){e.cyclesCompleted>0&&e.cyclesCompleted--},incrementCompletedBreaks:function(e){e.breakCompleted++},decrementCompletedBreaks:function(e){e.breakCompleted>0&&e.breakCompleted--},resetStats:function(e){e.cyclesCompleted=0,e.breakCompleted=0},changeCycleDuration:function(e,t){e.cycleDuration=t.payload},changeBreakDuration:function(e,t){e.breakDuration=t.payload},elapseSecond:function(e){e.remainingSeconds>0&&e.remainingSeconds--},startCycle:function(e){e.cycleStarted=!0,e.cycleRunning=!0,e.currentRunDuration=e.cycleDuration},changeRemainingSeconds:function(e,t){e.remainingSeconds=t.payload,0===e.remainingSeconds&&(e.cycleStarted&&(e.cycleStarted=!1,e.cycleRunning=!1,e.cyclesCompleted++),e.breakStarted&&(e.breakStarted=!1,e.breakCompleted++))},completeCycle:function(e){e.cycleStarted=!1,e.cycleRunning=!1,e.cyclesCompleted++},discardCycle:function(e){e.cycleStarted=!1,e.cycleRunning=!1},pauseCycle:function(e){e.cycleRunning=!1},resumeCycle:function(e){e.cycleRunning=!0},startBreak:function(e){e.breakStarted=!0,e.currentRunDuration=e.breakDuration},completeBreak:function(e){e.breakStarted=!1,e.breakCompleted++},discardBreak:function(e){e.breakStarted=!1},addWebsiteToBlock:function(e,t){e.blockableWebsites.push(t.payload)},blockWebsite:function(e,t){var n=e.blockableWebsites.findIndex((function(e){return e.url===t.payload}));e.blockableWebsites[n].isBlocked=!0},unblockWebsite:function(e,t){var n=e.blockableWebsites.findIndex((function(e){return e.url===t.payload}));e.blockableWebsites[n].isBlocked=!1},deleteWebsite:function(e,t){var n=e.blockableWebsites.findIndex((function(e){return e.url===t.payload}));e.blockableWebsites.splice(n,1)},updateDefaultStorageDataFetched:function(e,t){e.defaultStorageDataFetched=t.payload},provideDefaultStorageData:function(e,t){var n=t.payload;return Object(s.a)(Object(s.a)({},e),n)}}}),m=j.actions,f=m.incrementCompletedCycles,x=m.decrementCompletedCycles,O=m.incrementCompletedBreaks,h=m.decrementCompletedBreaks,p=m.resetStats,g=m.changeCycleDuration,y=m.changeBreakDuration,k=m.startCycle,v=(m.elapseSecond,m.completeCycle),C=m.discardCycle,S=m.pauseCycle,N=m.resumeCycle,w=m.startBreak,D=m.completeBreak,B=m.discardBreak,W=m.addWebsiteToBlock,R=m.blockWebsite,F=m.unblockWebsite,E=m.deleteWebsite,I=m.updateDefaultStorageDataFetched,U=m.provideDefaultStorageData,M=m.changeRemainingSeconds,P=function(){return function(){var e=Object(a.a)(r.a.mark((function e(t,n){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.b)();case 2:if(c=e.sent,!l()(c)){e.next=8;break}return e.next=6,Object(u.c)();case 6:e.next=9;break;case 8:t(U(c));case 9:t(I(!0));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},L=function(){return function(){var e=Object(a.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.d)({remainingSeconds:60*n().dashboard.cycleDuration});case 2:t(k());case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},V=function(){return function(){var e=Object(a.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.d)({remainingSeconds:60*n().dashboard.breakDuration});case 2:t(w());case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()};t.l=j.reducer},35:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(13),s=n.n(a),o=n(10),i=n(11),l=n(2),u=Object(i.a)({reducer:{dashboard:l.l}}),d=(n(35),n(5)),b=n.n(d),j=n(3),m=n(1),f=function(e){var t=e.text,n=e.icon,c=e.className,r=void 0===c?"":c,a=e.onClick;return Object(m.jsxs)("button",{type:"button",className:b()("flex px-2 py-2 text-white rounded-sm transition-colors duration-300 items-center",r),onClick:a,children:[Object(m.jsx)(n,{className:"h-6 w-6 text-gray-200 items-center"}),Object(m.jsx)("span",{className:"ml-1 text-sm font-medium",children:t})]})},x=function(){return Object(o.b)()},O=o.c,h=n(14),p=function(e,t){return Math.round(100-e/(60*t)*100)||1},g=function(e){return e.dashboard},y=Object(h.a)(g,(function(e){var t=e.cycleStarted,n=e.remainingSeconds,c=e.currentRunDuration,r=e.breakStarted;return t||r?p(n,c):0})),k=function(){var e=x(),t=O(g),n=t.cycleStarted,c=t.cycleRunning,r=t.cyclesCompleted,a=t.breakStarted;return Object(m.jsx)("div",{children:Object(m.jsx)("div",{className:b()("flex",{"justify-between":n||r},{"justify-evenly":a},{"justify-center":!n&&!r&&!a},{"mt-6":!n}),children:n||a?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(f,{icon:j.a,text:"Complete",className:"bg-green-500 hover:bg-green-600",onClick:function(){n&&e(Object(l.h)()),a&&e(Object(l.g)())}}),!a&&(c?Object(m.jsx)(f,{icon:j.f,text:"Pause",className:"bg-yellow-500 hover:bg-yellow-600",onClick:function(){return e(Object(l.s)())}}):Object(m.jsx)(f,{icon:j.g,text:"Resume",className:"bg-yellow-500 hover:bg-yellow-600",onClick:function(){return e(Object(l.u)())}})),Object(m.jsx)(f,{icon:j.m,text:"Discard",className:"bg-red-500 hover:bg-red-600",onClick:function(){n&&e(Object(l.o)()),a&&e(Object(l.n)())}})]}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(f,{icon:j.g,text:"Start",className:"bg-teal-500 hover:bg-teal-600 px-12",onClick:function(){e(Object(l.i)())}}),Boolean(r)&&Object(m.jsx)(f,{icon:j.k,text:"Start Break",className:"bg-fuchsia-500 hover:bg-fuchsia-600 px-7",onClick:function(){return e(Object(l.c)())}})]})})})},v=n(4),C=n(15),S=n(9),N=["className"],w=function(e){var t=e.className,n=void 0===t?"":t,c=Object(S.a)(e,N);return Object(m.jsx)("input",Object(v.a)({type:"text",className:b()("h-7 bg-gray-100 focus:bg-white text-gray-600 focus:text-gray-700 appearance-none rounded-sm py-1 px-2 focus:outline-none shadow",n)},c))},D=["value","onUpdate"],B=function(e){var t=e.value,n=e.onUpdate,r=Object(S.a)(e,D),a=Object(c.useState)(t||""),s=Object(C.a)(a,2),o=s[0],i=s[1];return Object(m.jsx)(w,Object(v.a)({value:o,onChange:function(e){var t=e.target.value;(""===t||/^[0-9\b]+$/.test(t))&&(i(t),n&&n(t))}},r))},W=["children","className"],R=function(e){var t=e.children,n=e.className,c=void 0===n?"":n,r=Object(S.a)(e,W);return Object(m.jsx)("label",Object(v.a)(Object(v.a)({className:b()("block text-sm font-medium text-gray-200",c)},r),{},{children:t}))},F=function(){var e=x(),t=O(g),n=t.cycleDuration,c=t.breakDuration;return Object(m.jsxs)("div",{children:[Object(m.jsxs)("h2",{className:"flex text-gray-50 items-center mb-3",children:[Object(m.jsx)(j.b,{className:"h-6 w-6 text-gray-50"}),Object(m.jsx)("span",{className:"ml-0.5 text-gray-200 text-sm font-medium",children:"Settings"})]}),Object(m.jsxs)(R,{className:"mb-3",children:[Object(m.jsx)("span",{className:"block mb-1",children:"Kumato duration:"}),Object(m.jsx)(B,{type:"text",className:"w-20",value:n,placeholder:"Minutes",onUpdate:function(t){return e(Object(l.e)(t))}})]}),Object(m.jsxs)(R,{children:[Object(m.jsx)("span",{className:"block mb-1",children:"Break duration:"}),Object(m.jsx)(B,{type:"text",className:"w-20",placeholder:"Minutes",value:c,onUpdate:function(t){return e(Object(l.d)(t))}})]})]})},E=function(e){var t=e.className,n=void 0===t?"":t,c=e.title,r=e.onIncrement,a=e.onDecrement;return Object(m.jsxs)("div",{className:b()("flex","items-center",n),children:[Object(m.jsx)("button",{type:"button",onClick:r,children:Object(m.jsx)(j.h,{className:"h-6 w-6 text-green-700 justify-center"})}),Object(m.jsx)("span",{className:"text-gray-200 ml-1.5 text-sm",children:c}),Object(m.jsx)("button",{type:"button",onClick:a,children:Object(m.jsx)(j.e,{className:"h-6 w-6 text-red-800 ml-1.5"})})]})},I=function(){var e=x(),t=O(g),n=t.cyclesCompleted,c=t.breakCompleted;return Object(m.jsxs)("div",{children:[Object(m.jsxs)("h2",{className:"flex items-center mb-3",children:[Object(m.jsx)(j.j,{className:"h-6 w-6 text-gray-200"}),Object(m.jsx)("span",{className:"ml-0.5 text-gray-200 text-sm font-medium",children:"Stats"})]}),Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)(E,{title:"Kumatos: ".concat(n),className:"mb-1",onIncrement:function(){return e(Object(l.q)())},onDecrement:function(){return e(Object(l.k)())}}),Object(m.jsx)(E,{title:"Breaks: ".concat(c),onIncrement:function(){return e(Object(l.p)())},onDecrement:function(){return e(Object(l.j)())}})]}),Object(m.jsx)("button",{type:"button",className:"bg-yellow-600 px-2 py-1 text-white rounded-sm text-sm",onClick:function(){return e(Object(l.t)())},children:"Reset Stats"})]})},U=function(e){var t=e.colour,n=e.pct,c=void 0===n?100:n,r=2*Math.PI*70,a=(100-c)*r/100;return Object(m.jsx)("circle",{className:"transition-all",r:70,cx:100,cy:100,fill:"transparent",stroke:a!==r?t:"",strokeWidth:"1rem",strokeDasharray:r,strokeDashoffset:c?a:0,strokeLinecap:"round"})},M=function(e){var t=e.title;return Object(m.jsx)("text",{x:"50%",y:"50%",dominantBaseline:"central",textAnchor:"middle",fontSize:"2rem",fill:"#fff",children:t})},P=function(e){var t=e.title,n=e.percentage,c=e.className,r=void 0===c?"":c,a=function(e){return!Number.isFinite(+e)||e<0?0:e>100?100:+e}(n);return Object(m.jsxs)("svg",{width:200,height:200,className:r,children:[Object(m.jsx)("defs",{children:Object(m.jsxs)("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[Object(m.jsx)("stop",{offset:"0%","stop-color":"#2dd4bf"}),Object(m.jsx)("stop",{offset:"100%","stop-color":"#3b82f6"})]})}),Object(m.jsxs)("g",{transform:"rotate(-90 ".concat("100 100",")"),children:[Object(m.jsx)(U,{colour:"rgb(229, 231, 235)"}),Object(m.jsx)(U,{colour:"url(#gradient)",pct:a})]}),Object(m.jsx)(M,{title:t})]})},L=function(){var e=O(g).remainingSeconds,t=Math.floor(e/60),n=e-60*t;return Object(m.jsx)(m.Fragment,{children:"".concat(t,":").concat(n<10?"0".concat(n):n)})},V=function(){var e=O(y);return Object(m.jsx)("div",{className:"flex justify-center items-center relative",children:Object(m.jsx)(P,{title:Object(m.jsx)(L,{}),percentage:e})})},q=function(){var e=Object(c.useState)(""),t=Object(C.a)(e,2),n=t[0],r=t[1],a=x();return Object(m.jsxs)("div",{className:"flex",children:[Object(m.jsx)(w,{type:"text",className:"flex-grow min-w-0 rounded-r-none text-sm",placeholder:"Enter website url to block",onChange:function(e){var t=e.target.value;r(t)},value:n}),Object(m.jsx)("button",{type:"button",className:"bg-orange-500 px-2 py-1 text-white rounded-sm text-sm rounded-l-none",onClick:function(){n&&(r(""),a(Object(l.a)({url:n,isBlocked:!0})))},children:Object(m.jsx)(j.i,{className:"h-4 w-4"})})]})},J=function(e){var t=e.isBlocked,n=e.websiteUrl,c=x();return Object(m.jsxs)("li",{className:"flex items-center mb-1.5",children:[t?Object(m.jsxs)("button",{type:"button",className:"flex bg-red-600 px-2 py-1 text-white rounded-sm text-sm items-center",onClick:function(){return c(Object(l.w)(n))},children:[Object(m.jsx)(j.d,{className:"h-4 w-4 text-white"}),Object(m.jsx)("span",{className:"ml-1",children:"Unblock"})]}):Object(m.jsxs)("button",{type:"button",className:"flex bg-green-600 px-2 py-1 text-white rounded-sm text-sm items-center",onClick:function(){return c(Object(l.b)(n))},children:[Object(m.jsx)(j.c,{className:"h-4 w-4 text-white"}),Object(m.jsx)("span",{className:"ml-1",children:"Block"})]}),Object(m.jsx)("span",{className:"text-gray-200 ml-1.5 text-sm truncate",children:n}),Object(m.jsx)("button",{type:"button",onClick:function(){return c(Object(l.m)(n))},children:Object(m.jsx)(j.l,{className:"h-5 w-5 text-red-800 ml-1.5"})})]})},K=function(){var e=O(g).blockableWebsites;return Object(m.jsx)("ul",{children:e.map((function(e){var t=e.url,n=e.isBlocked;return Object(m.jsx)(J,{isBlocked:n,websiteUrl:t})}))})},T=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"mb-3",children:Object(m.jsx)(q,{})}),Object(m.jsx)(K,{})]})},$=n(22),z=n.n($),A=n(7),G=function(){var e=O(g);Object(c.useEffect)((function(){Object(A.d)(z()(e,"defaultStorageDataFetched","remainingSeconds"))}),[e])},H=function(){var e=O(g),t=e.cycleStarted,n=e.breakStarted;return G(),Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"flex justify-between",children:[Object(m.jsx)(I,{}),Object(m.jsx)(F,{})]}),(t||n)&&Object(m.jsx)(V,{}),Object(m.jsx)("div",{className:"mb-6",children:Object(m.jsx)(k,{})}),Object(m.jsx)(T,{})]})},Q=function(){var e=x();Object(c.useEffect)((function(){A.a.storage.onChanged.addListener((function(t){if(null===t||void 0===t?void 0:t.remainingSeconds){var n=t.remainingSeconds.newValue;e(Object(l.f)(n))}}))}),[e])};n(37);var X=function(){var e=Object(o.b)(),t=O(g).defaultStorageDataFetched;return Q(),Object(c.useEffect)((function(){e(Object(l.r)())}),[e]),Object(m.jsx)("div",{className:"p-6 w-96 mx-auto bg-gray-800",children:t&&Object(m.jsx)(H,{})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(o.a,{store:u,children:Object(m.jsx)(X,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},7:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return l}));var c=n(19),r=n.n(c),a=n(2),s=r()(e,"chrome.storage")?r()(e,"chrome"):{runtime:{lastError:null},storage:{local:{get:function(e,t){t({blockableWebsites:[],breakCompleted:3,breakDuration:10,breakStarted:!1,cycleDuration:25,cycleRunning:!0,cycleStarted:!0,cyclesCompleted:10,defaultStorageDataFetched:!1,remainingSeconds:150})},set:function(){}},onChanged:{addListener:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){};e({remainingSeconds:{newValue:2699,oldValue:2700}})}}}},o=function(){return new Promise((function(e,t){s.storage.local.get(null,(function(n){if(s.runtime.lastError)return t(s.runtime.lastError);e(n)}))}))},i=function(){return new Promise((function(e,t){s.storage.local.set(a.v,(function(){e(a.v)}))}))},l=function(e){return new Promise((function(t,n){s.storage.local.set(e,(function(){t(e)}))}))}}).call(this,n(12))}},[[38,1,2]]]);